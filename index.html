<meta name="viewport" content="width=device-width, initial-scale=1">

<script>

var exercise_ids = []

// var exercises = []

function addExercise() {
    const newExerciseId = "exercise_0" // FIX ME --> should not be hardcoded as exercise 0

    const newExercise = document.createElement("div")
    newExercise.id = newExerciseId
     // and give it some content
    const newContent = document.createTextNode("Name: ");
    // add the text node to the newly created div
    newExercise.appendChild(newContent);

    const exerciseNameField = document.createElement("input")
    exerciseNameField.type = "text"
    exerciseNameField.required = true
    newExercise.appendChild(exerciseNameField)

    const addNewPropertyButton = document.createElement("button")
    addNewPropertyButton.textContent = "Add new property"
    addNewPropertyButton.onclick = () => { addNewProperty(newExerciseId) }
    newExercise.appendChild(addNewPropertyButton)

    const exerciseProperties = document.createElement("div")
    exerciseProperties.id = newExerciseId + "_" + "properties"
    newExercise.appendChild(exerciseProperties)

    const deleteExerciseButton = document.createElement("button")
    deleteExerciseButton.textContent = "Delete exercise"
    deleteExerciseButton.onclick = () => { deleteExercise(newExerciseId) }
    newExercise.appendChild(deleteExerciseButton)

    document.getElementById("exercises").appendChild(newExercise)

}

function addNewPropertyToExercise(exerciseId) {
    // Code to add a new property to an exercise
    const newExercisePropertyId = newExerciseId + "_" + "property" + "_" + document.getElementById(newExerciseId + "_" + "properties").childElementCount

    const newExerciseProperty = document.createElement("div")
    newExerciseProperty.id = newExercisePropertyId
    const newExercisePropertyKey = document.createElement("input")
    newExercisePropertyKey.type = "text"
    newExerciseProperty.appendChild(newExercisePropertyKey)
    const newExercisePropertyValue = document.createElement("input")
    newExercisePropertyValue.type = "text"
    newExerciseProperty.appendChild(newExercisePropertyValue)

    const deleteExercisePropertyButton = document.createElement("button")
    deleteExercisePropertyButton.textContent = "Delete property"
    deleteExercisePropertyButton.onclick = () => { deleteExerciseProperty(newExercisePropertyId) }
    newExercise.appendChild(deleteExerciseButton)

    document.getElementById(newExerciseId + "_" + "properties").appendChild(newExerciseProperty)
}

function makeWorkout() {
    window.alert("Workout machten'ed")
    // Read what the user has input
    // Save into local storage

    // var numberOfSavedWorkouts = parseInt(localStorage.getItem("numberOfSavedWorkouts"))
    // if (numberOfSavedWorkouts == null) {
    //    numberOfSavedWorkouts = 0
    //
    // }
    // localStorage.setItem("workout_" + numberOfSavedWorkouts + 1, exercises.toString())
    // localStorage.setItem("numberOfSavedWorkouts", (numberOfSavedWorkouts + 1).toString())
}

</script>

<h1> Hello World! </h1>

<div id="exercises">

</div>

<button onclick="addExercise()"> Add exercise </button>
<button onclick="makeWorkout()"> Machten der Werkout </button>